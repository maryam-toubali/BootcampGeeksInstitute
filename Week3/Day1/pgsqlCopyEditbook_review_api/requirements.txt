# ğŸ“š Book Review API â€“ Project Summary

## ğŸ§  Overview

A RESTful API using FastAPI + SQLAlchemy with JWT authentication.

### Core Features:
- User registration and login
- Books CRUD (Create, Read, Update, Delete)
- Review system per book (users can only edit their reviews)
- Role system: Admins vs Users

---

## ğŸ”§ Files & Responsibilities

| File               | Purpose                                      |
|--------------------|----------------------------------------------|
| `main.py`          | FastAPI app entry point + routes             |
| `database.py`      | SQLAlchemy DB setup (engine + session)       |
| `models.py`        | ORM models (User, Book, Review)              |
| `schemas.py`       | Pydantic schemas for validation              |
| `crud.py`          | Database logic for CRUD                      |
| `auth.py`          | Password hashing + JWT token creation        |
| `middleware.py`    | JWT middleware                               |
| `dependencies.py`  | Reusable dependency functions                |

## ğŸ“¦ Structure

ğŸ“ Project Layout
book_review_api/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ database.py
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ schemas.py
â”‚   â”œâ”€â”€ crud.py
â”‚   â”œâ”€â”€ auth.py
â”‚   â”œâ”€â”€ middleware.py
â”‚   â””â”€â”€ dependencies.py
â”‚
â””â”€â”€ requirements.txt

---

## ğŸ” Authentication Flow

1. User signs up at `/signup` â†’ password is hashed and saved
2. Logs in at `/login` â†’ JWT token is returned
3. Token is used for all protected routes via `Authorization: Bearer <token>`
4. Middleware extracts token and attaches user to request
5. Dependencies (`get_current_user`, `get_admin_user`) are used in routes

---

## ğŸ›¢ï¸ Database Architecture

We use **PostgreSQL** or **SQLite** with **SQLAlchemy ORM**.

### Tables:

#### ğŸ§‘ Users

| Field      | Type     | Notes               |
|------------|----------|---------------------|
| id         | Integer  | Primary key         |
| username   | String   | Unique, required     |
| email      | String   | Unique, validated    |
| hashed_password | String | Password hash    |
| is_admin   | Boolean  | Default: False       |
| reviews    | Relationship | One-to-many with `Review` |

#### ğŸ“š Books

| Field      | Type     | Notes                   |
|------------|----------|-------------------------|
| id         | Integer  | Primary key             |
| title      | String   | Required                |
| author     | String   | Required                |
| reviews    | Relationship | One-to-many with `Review` |

#### ğŸ“ Reviews

| Field      | Type     | Notes                                 |
|------------|----------|---------------------------------------|
| id         | Integer  | Primary key                           |
| content    | String   | Required                              |
| rating     | Integer  | 1â€“5 range                             |
| user_id    | ForeignKey â†’ users.id | Review creator            |
| book_id    | ForeignKey â†’ books.id | Reviewed book             |
| user       | Relationship | Many-to-one with `User`            |
| book       | Relationship | Many-to-one with `Book`            |

---

## ğŸ”— Entity Relationship Diagram (ERD)

```plaintext
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   Users    â”‚        â”‚   Books    â”‚        â”‚  Reviews   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–²                      â–²                      â–²
               â”‚                      â”‚                      â”‚
         One-to-many            One-to-many         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚                      â”‚              â”‚  Foreign   â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
                     [Reviews]



---

## Technologies Used

- FastAPI
- SQLAlchemy
- Pydantic
- PostgreSQL or SQLite
- Passlib (for password hashing)
- python-jose (for JWT tokens)




